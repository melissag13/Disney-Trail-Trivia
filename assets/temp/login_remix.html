<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Sign-Up Today!</title>
	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<!-- LINK TO FIREBASE GOES HERE -->
	<script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>


	<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
</head>
<body>
<div class="container">
	<br> 
	<div class="row">

		<!-- Sign-Up Panel-->
		<div class="col-lg-6">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Login In</h3>
				</div>
					<div class="panel-body">

					<!-- Sign-up Form (note the various input "types")-->
						<form action="demo_form.asp" >
							<div class="form-group" action="demo_form.asp">
							    <label for="text">Name:</label>
							    <input type="text" class="form-control" id="nameInput" name="name" required>
						  	</div>
						  	<div class="form-group" action="demo_form.asp">
							    <label for="text">Email:</label>
							    <input type="email" class="form-control" id="emailInput" name="email" required>
							    <input type="submit" value="Submit" class="btn btn-default" id="addUser">

							</div>

						  <!-- <button type="submit" value="Submit" class="btn btn-default" id="addUser">Submit</button> -->
						</form>

					</div>
			</div>
		</div>
	</div>
</div>

<!-- CSS here-->
<style>

	body {
	background: url("../temp/road-trip1-01.jpg") no-repeat center fixed;
	-webkit-background-size: cover;
	-moz-background-size: cover;
	-o-background-size: cover;
	background-size: cover;
}

	.col-lg-6{
		float: right;
	}

</style>

<!-- Latest compiled and minified CSS & JS -->
<script src="https://code.jquery.com/jquery.js"></script>

<script>

// Initialize Firebase
var config = {
   apiKey: "AIzaSyCIdEkHBPUmCpZJDFnortraCHhYyUGN43A",
   authDomain: "disney-trail.firebaseapp.com",
   databaseURL: "https://disney-trail.firebaseio.com",
   storageBucket: "disney-trail.appspot.com",
 };

 
  firebase.initializeApp(config);

var dataRef = firebase.database();

//Email validation 
// function validateForm() {
//     var x = $("name").val();
//     if (x == null || x == "") {
        
//         return false;
//     }
//     var y = $("email").val();
//     if (y == null || y == "") {

//     	return false;
//     }

// }




// function validateForm() {
//     var atpos = x.indexOf("@");
//     		var dotpos = x.lastIndexOf(".");
//     		if (atpos<1 || dotpos<atpos+2 || dotpos+2>=x.length) {
//        		document.getElementById("alert").innerHTML="Invalid Email";
//         	preventDefault();
//         	empty();
//         	return false;
//     		}
// 		}


// Capture Button Click
$("#addUser").on("click", function() {
	// Initial Values
	var name = $('#nameInput').val().trim();
	var email = $('#emailInput').val().trim();
	

	dataRef.ref().push({
		name: name,
		email: email
	});

	//Clears form
	$("#nameInput").val("");
	$("#emailInput").val("");

	// Doesn't refresh the page
	return false;
});

//Firebase watcher + initial loader 
dataRef.ref().on("child_added", function(childSnapshot, prevChildKey) {
	// Log everything that's coming out of snapshot
	

	var userName = childSnapshot.val().name;
	var userEmail = childSnapshot.val().email;

	console.log(childSnapshot.val().name);
	console.log(childSnapshot.val().email);
	console.log("name " + userName);
	console.log("email " + userEmail);

}); 
	


</script>
</body>
</html>