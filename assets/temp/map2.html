<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
        <title>Lat long way points (LatLng)</title>
        <style type="text/css"> 
            html { height: 100% }
            body { height: 100%; margin: 0px; padding: 0px }
        </style>
        <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyCIdEkHBPUmCpZJDFnortraCHhYyUGN43A"></script>
        
        <script type="text/javascript">
            var directionDisplay;
            var directionsService = new google.maps.DirectionsService();
            var map;

            function initialize() {
                directionsDisplay = new google.maps.DirectionsRenderer();
                var chicago = new google.maps.LatLng(41.850033, -87.6500523);
                var myOptions = {
                    zoom: 6,
                    mapTypeId: google.maps.MapTypeId.ROADMAP,
                    center: chicago
                };
                map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
                directionsDisplay.setMap(map);
                calcRoute();
            }

            function calcRoute() {
                var first = new google.maps.LatLng(42.496403, -124.413128);
                var second = new google.maps.LatLng(42.496401, -124.413126);

                var request = {
                    origin: "1521 NW 54th St, Seattle, WA 98107 ",
                    destination: {location: {lat: 28.3852377, lng: -81.5660627}},
                    waypoints: [{location: {lat: 45.5425913, lng: -122.7945059, stopover: false}},
                                {location: {lat: 38.5617256, lng: -121.5829973, stopover: false}},
                                {location: {lat: 39.5581117, lng: -119.9909261, stopover: false}},
                                {location: {lat: 40.7767833, lng: -112.0605696, stopover: false}},
                                {location: {lat: 39.7645187, lng: -104.9951961, stopover: false}},
                                {location: {lat: 41.2920321, lng: -96.221333, stopover: false}},
                                // {location: {lat: 41.5667771, lng: -93.6765561, stopover: false}},
                                // {location: {lat: 41.5411931, lng: -90.6590196, stopover: false}},
                                // {location: {lat: 40.4050906, lng: -86.928256, stopover: false}},
                                // {location: {lat: 39.7799642, lng: -86.2728346, stopover: false}},
                                // {location: {lat: 38.1889917, lng: -85.8168553, stopover: false}},
                                // {location: {lat: 36.1868683, lng: -87.065434, stopover: false}},
                                // {location: {lat: 35.0984959, lng: -85.3787761, stopover: false}},
                                // {location: {lat: 35.5391304, lng: -82.7054906, stopover: false}},
                                // {location: {lat: 35.2033534, lng: -80.979611, stopover: false}},
                                // {location: {lat: 34.0377141, lng: -81.0776502, stopover: false}},
                                // {location: {lat: 32.0407509, lng: -81.3404615, stopover: false}},
                                // {location: {lat: 30.3452841, lng: -82.0006509, stopover: false}},
                                // {location: {lat: 29.2088155, lng: -81.1666503, stopover: false}}
                                ],
                    optimizeWaypoints: true,
                    travelMode: google.maps.DirectionsTravelMode.DRIVING
                };
                directionsService.route(request, function (response, status) {
                    if (status == google.maps.DirectionsStatus.OK) {
                        directionsDisplay.setDirections(response);
                        var route = response.routes[0];
                        console.log("route:", route);
                        var summaryPanel = document.getElementById("directions_panel");
                        summaryPanel.innerHTML = "";
                        // For each route, display summary information.
                        for (var i = 0; i < route.legs.length; i++) {
                            var routeSegment = i + 1;
                            summaryPanel.innerHTML += "<b>Route Segment: " + routeSegment + "</b><br />";
                            summaryPanel.innerHTML += route.legs[i].start_address + " to ";
                            summaryPanel.innerHTML += route.legs[i].end_address + "<br />";
                            summaryPanel.innerHTML += route.legs[i].distance.text + "<br /><br />";
                        }
                    } else {
                        alert("directions response " + status);
                    }
                });
            }
        </script>
    </head>
    <body onload="initialize()">
        <div id="map_canvas" style="float:left;width:70%;height:100%;"></div>
        <div id="control_panel" style="float:right;width:30%;text-align:left;padding-top:20px">
            <div id="directions_panel" style="margin:20px;background-color:#FFEE77;"></div>
        </div>
        <script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
        </script> 
        <script type="text/javascript">
        </script> 
    </body>
</html>